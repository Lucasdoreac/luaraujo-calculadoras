/**
 * Melhorias específicas para gráficos e visualizações de dados
 * Foco em garantir alta legibilidade em ambos os temas
 */

/* ============= Melhorias para gráficos no tema claro ============= */
[data-theme="light"] .chart-container {
    border: 1px solid #b0b0b0;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    background-color: white;
    border-radius: 6px;
    padding: 15px;
}

/* Título e legendas dos gráficos no tema claro */
[data-theme="light"] .chart-container h4,
[data-theme="light"] .chart-container .chart-title,
[data-theme="light"] .chart-container .chart-legend {
    color: #1a202c !important;
    font-weight: 600;
}

/* Textos das legendas e eixos nos gráficos (tema claro) */
[data-theme="light"] .chart-container .axis text,
[data-theme="light"] .chart-container .legend text,
[data-theme="light"] .chart-container text,
[data-theme="light"] .chart-container .tick text {
    fill: #2d3748 !important;
    color: #2d3748 !important;
    font-weight: 500;
}

/* Linhas de grade nos gráficos (tema claro) */
[data-theme="light"] .chart-container .grid line,
[data-theme="light"] .chart-container .tick line,
[data-theme="light"] .chart-container line {
    stroke: #718096 !important;
    stroke-width: 0.5px !important;
    stroke-opacity: 0.5 !important;
}

/* Eixos nos gráficos (tema claro) */
[data-theme="light"] .chart-container .axis line,
[data-theme="light"] .chart-container .axis path {
    stroke: #4a5568 !important;
    stroke-width: 1px !important;
}

/* Barras e elementos dos gráficos (tema claro) */
[data-theme="light"] .chart-container rect.bar,
[data-theme="light"] .chart-container .bar rect {
    fill: #3182ce !important;
    stroke: #2c5282;
    stroke-width: 1px;
}

/* Texto dentro dos gráficos (tema claro) */
[data-theme="light"] .chart-container .label,
[data-theme="light"] .chart-container .value-label {
    fill: #2d3748 !important;
    color: #2d3748 !important;
    font-weight: 600;
}

/* ============= Melhorias para gráficos no tema escuro ============= */
.chart-container {
    border: 1px solid var(--border-color);
    background-color: var(--bg-tertiary);
    padding: 15px;
    border-radius: 6px;
}

/* Título e legendas dos gráficos no tema escuro */
.chart-container h4,
.chart-container .chart-title,
.chart-container .chart-legend {
    color: var(--text-primary) !important;
    margin-bottom: 15px;
}

/* Textos das legendas e eixos nos gráficos (tema escuro) */
.chart-container .axis text,
.chart-container .legend text,
.chart-container text,
.chart-container .tick text {
    fill: var(--text-secondary) !important;
    color: var(--text-secondary) !important;
}

/* Linhas de grade nos gráficos (tema escuro) */
.chart-container .grid line,
.chart-container .tick line,
.chart-container line {
    stroke: #5a5a5a !important;
    stroke-width: 0.5px !important;
    stroke-opacity: 0.7 !important;
}

/* Eixos nos gráficos (tema escuro) */
.chart-container .axis line,
.chart-container .axis path {
    stroke: var(--border-color) !important;
    stroke-width: 1px !important;
}

/* Barras e elementos dos gráficos (tema escuro) */
.chart-container rect.bar,
.chart-container .bar rect {
    fill: var(--primary-color) !important;
}

/* Texto dentro dos gráficos (tema escuro) */
.chart-container .label,
.chart-container .value-label {
    fill: var(--text-primary) !important;
    color: var(--text-primary) !important;
}

/* ============= Correções específicas para texto nos gráficos ============= */
/* Corrigir problema de legendas em azul claro sobre fundo branco */
[data-theme="light"] .chart-container .legend-item,
[data-theme="light"] .chart-container .legend-label,
[data-theme="light"] .chart-container .x-axis-label,
[data-theme="light"] .chart-container .y-axis-label {
    color: #1a202c !important;
    fill: #1a202c !important;
    font-weight: 500;
}

/* Garantir que valores e labels nos eixos sejam visíveis */
[data-theme="light"] .chart-container .axis-value,
[data-theme="light"] .chart-container .tick text,
[data-theme="light"] .chart-container .axis-label {
    color: #2d3748 !important; 
    fill: #2d3748 !important;
    font-weight: 500;
}

/* Melhorar contraste das bordas nos gráficos */
[data-theme="light"] .chart-container .chart-area {
    border: 1px solid #4a5568;
    border-radius: 4px;
}

/* Correções para SVG e elementos Canvas */
[data-theme="light"] .chart-container svg text,
[data-theme="light"] .chart-container canvas + div {
    color: #2d3748 !important;
    fill: #2d3748 !important;
}

/* Correção de problema específico para legendas de projeção */
[data-theme="light"] .chart-container text[data-legend],
[data-theme="light"] .chart-legend text,
[data-theme="light"] text.legend-text {
    fill: #1a202c !important;
    color: #1a202c !important;
    font-weight: 600 !important;
    stroke: none !important;
}

/* Correção para os textos específicos mostrados nas imagens */
[data-theme="light"] text[data-label*="Projeção"],
[data-theme="light"] .chart-container .projecao-label {
    fill: #1a202c !important;
    color: #1a202c !important;
    font-weight: 600 !important;
    font-size: 14px !important;
}

/* Melhoria de contraste para textos informativos sob os gráficos */
[data-theme="light"] .analise-retorno,
[data-theme="light"] .analise-retorno h4,
[data-theme="light"] .analise-retorno p,
[data-theme="light"] .valor-total-investido,
[data-theme="light"] .retorno-total,
[data-theme="light"] .percentual-retorno {
    color: #1a202c !important;
    font-weight: 500;
}

/* Melhoria para textos de análise de dados */
[data-theme="light"] [id^="valor"],
[data-theme="light"] [id^="taxa"],
[data-theme="light"] [id^="retorno"],
[data-theme="light"] [id^="total"],
[data-theme="light"] [id^="percentual"] {
    color: #1a202c !important;
    font-weight: 600;
}

/* Destacar valores importantes */
[data-theme="light"] .destaque-valor {
    color: var(--primary-color) !important;
    font-weight: 700;
    font-size: 1.1em;
}

/* Garantir contraste adequado para valores percentuais */
[data-theme="light"] .percentual {
    background-color: rgba(49, 130, 206, 0.1);
    color: #2c5282 !important;
    font-weight: 600;
    padding: 2px 5px;
    border-radius: 3px;
}
