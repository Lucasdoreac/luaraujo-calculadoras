/* CSS para controle de temas (claro/escuro) */

/* Variáveis para o tema escuro (padrão) */
:root {
    /* Cores de fundo */
    --bg-primary: #121212;
    --bg-secondary: #1e1e1e;
    --bg-tertiary: #2c2c2c;
    --bg-card: #2c2c2c;
    --bg-input: #2c2c2c;
    
    /* Cores de texto */
    --text-primary: #ffffff;
    --text-secondary: #e0e0e0; /* Mais claro que o original para melhor contraste */
    --text-muted: #e0e0e0; /* Mais claro que o original para melhor contraste */
    
    /* Cores de destaque e elementos */
    --primary-color: #3498db;
    --primary-color-rgb: 52, 152, 219; /* Versão RGB para uso com opacidade */
    --primary-color-hover: #2980b9;
    --primary-shadow: rgba(52, 152, 219, 0.5);
    --success-color: #2ecc71;
    --danger-color: #e74c3c;
    --border-color: #5a5a5a; /* Mais claro para melhor contraste */
    --shadow-color: rgba(0, 0, 0, 0.5);
    
    /* Opacidades */
    --hover-opacity: 0.25; /* Aumentado para melhor feedback visual */
    
    /* Transição suave entre temas */
    --theme-transition: background-color 0.3s, color 0.3s, border-color 0.3s, box-shadow 0.3s;
}

/* Variáveis para o tema claro (reformuladas para reduzir fadiga visual) */
[data-theme="light"] {
    /* Cores de fundo */
    --bg-primary: #f4f4f0; /* Off-white com tom levemente quente para reduzir fadiga visual */
    --bg-secondary: #f9f9f5; /* Quase branco, mas não puro */
    --bg-tertiary: #e8e8e2; /* Tom neutro quente para áreas de destaque */
    --bg-card: #f9f9f5;
    --bg-input: #fafaf6; /* Sutilmente diferente */
    
    /* Cores de texto */
    --text-primary: #2d2d2a; /* Quase preto, mas não totalmente para reduzir contraste extremo */
    --text-secondary: #504f4a; /* Cinza escuro com leve tonalidade quente */
    --text-muted: #767670; /* Cinza médio para textos secundários */
    
    /* Cores de destaque e elementos */
    --primary-color: #1f6ba6; /* Azul menos saturado, mais amigável aos olhos */
    --primary-color-rgb: 31, 107, 166; /* Versão RGB para uso com opacidade */
    --primary-color-hover: #18558a; /* Mais escuro mas ainda com menor saturação */
    --primary-shadow: rgba(31, 107, 166, 0.25); /* Sombra mais sutil */
    --success-color: #2a9758; /* Verde menos intenso */
    --danger-color: #b33430; /* Vermelho menos saturado */
    --border-color: #c5c4be; /* Borda suave que não cria contraste extremo */
    --shadow-color: rgba(0, 0, 0, 0.08); /* Sombras muito sutis */
    
    /* Opacidades */
    --hover-opacity: 0.15; /* Feedback visual mais sutil */
}

/* Aplicação das variáveis */
body {
    background-color: var(--bg-primary);
    color: var(--text-primary);
    transition: var(--theme-transition);
}

.navbar-custom {
    background-color: var(--bg-secondary);
    border-bottom: 1px solid var(--border-color);
    box-shadow: 0 2px 8px var(--shadow-color);
    transition: var(--theme-transition);
}

.navbar-brand {
    color: var(--text-primary) !important;
    text-shadow: 0 1px 2px var(--shadow-color);
}

.navbar-brand:hover {
    color: var(--primary-color) !important;
}

.navbar-nav .nav-link {
    color: var(--text-primary) !important;
}

.navbar-nav .nav-link:hover {
    background-color: rgba(var(--primary-color-rgb), var(--hover-opacity));
}

.navbar-nav .nav-link.active {
    background-color: rgba(var(--primary-color-rgb), calc(var(--hover-opacity) * 2));
    color: var(--primary-color) !important;
    font-weight: 600;
}

.navbar-nav .nav-link i {
    color: var(--primary-color);
}

.social-link {
    color: var(--text-secondary);
}

.social-link:hover {
    color: var(--primary-color);
}

.container {
    background: var(--bg-secondary);
    box-shadow: 0 4px 10px var(--shadow-color);
    transition: var(--theme-transition);
    border-radius: 8px;
}

h1, h2, h3, h4 {
    color: var(--text-primary);
}

label {
    color: var(--text-secondary);
    font-weight: 600; /* Aumentando o peso da fonte para melhor legibilidade */
}

input, select, .form-control {
    background-color: var(--bg-input);
    border: 1px solid var(--border-color);
    color: var(--text-primary);
    transition: var(--theme-transition);
}

.form-control:focus {
    background-color: var(--bg-input);
    color: var(--text-primary);
    border-color: var(--primary-color);
    box-shadow: 0 0 0 0.25rem rgba(var(--primary-color-rgb), 0.15);
}

button {
    background-color: var(--primary-color);
    transition: var(--theme-transition);
    color: white !important; /* Garantindo que o texto dos botões seja sempre branco */
}

button:hover {
    background-color: var(--primary-color-hover);
    box-shadow: 0 0 10px var(--primary-shadow);
}

.btn-outline-primary {
    border: 1px solid var(--primary-color);
    color: var(--primary-color);
}

.btn-outline-primary:hover {
    background-color: var(--primary-color);
    color: white !important;
    box-shadow: 0 0 10px var(--primary-shadow);
}

.educational-tips,
.concept-explanation,
.goals-section,
.tab-content,
.chart-container,
.educational-content,
.results,
.comparison-table {
    background: var(--bg-tertiary);
    border: 1px solid var(--border-color);
    color: var(--text-primary);
    transition: var(--theme-transition);
    border-radius: 6px;
}

/* Ícones de ajuda com melhor contraste */
.help-icon {
    display: inline-block;
    width: 20px;
    height: 20px;
    line-height: 20px;
    text-align: center;
    background: #666; /* Mais claro no tema escuro */
    color: #ffffff;
    font-weight: bold; /* Melhor legibilidade */
    border-radius: 50%;
    cursor: pointer;
    margin-left: 10px;
    font-size: 14px;
    transition: all 0.3s;
    border: 1px solid var(--border-color); /* Borda para maior destaque */
}

.help-icon:hover {
    background: var(--primary-color); /* Usar a cor primária no hover */
    color: white;
    transform: scale(1.1); /* Efeito visual de aumento */
}

[data-theme="light"] .help-icon {
    background: #555; /* Mais escuro no tema claro */
    color: white;
}

/* Botões de tab e seus estados */
.tab-button {
    padding: 10px 20px;
    border: none;
    background: var(--bg-tertiary);
    cursor: pointer;
    border-radius: 5px 5px 0 0;
    font-weight: bold;
    transition: all 0.3s;
    color: var(--text-primary) !important;
    box-sizing: border-box;
    border: 1px solid var(--border-color);
}

.tab-button:hover {
    background: rgba(var(--primary-color-rgb), 0.1);
    border-color: var(--primary-color);
}

.tab-button.active {
    background: var(--primary-color);
    color: white !important;
    border-color: var(--primary-color);
    box-shadow: 0 2px 4px var(--shadow-color);
}

/* Melhorias nas tabelas */
.comparison-table th,
.comparison-table td {
    border: 2px solid var(--border-color); /* Bordas mais grossas */
    color: var(--text-primary);
}

.comparison-table th {
    background: var(--primary-color); /* Usar cor primária */
    color: white !important; /* Garantir texto branco para contraste */
    font-weight: bold;
}

.comparison-table tr:nth-child(even) {
    background: rgba(var(--primary-color-rgb), 0.05); /* Usar cor primária com baixa opacidade */
}

.comparison-table tr.total {
    background-color: rgba(var(--primary-color-rgb), 0.1); /* Mais sutil para menor contraste */
    font-weight: bold;
}

.comparison-table tr:hover {
    background-color: rgba(var(--primary-color-rgb), 0.08); /* Hover mais sutil para reduzir fadiga */
}

.results strong {
    color: var(--primary-color);
}

/* Melhorias nos cards */
.card {
    background-color: var(--bg-card);
    border: 1px solid var(--border-color); /* Borda mais sutil para reduzir contraste */
    border-radius: 10px;
    transition: transform 0.3s, box-shadow 0.3s, var(--theme-transition);
}

.card:hover {
    transform: translateY(-3px); /* Movimento mais sutil */
    box-shadow: 0 6px 15px var(--shadow-color);
    border-color: var(--primary-color); /* Destacar com a cor primária */
}

.card-title {
    color: var(--text-primary);
}

.card-text {
    color: var(--text-primary);
}

.card-footer {
    background-color: var(--bg-tertiary);
    border-top: 1px solid var(--border-color);
}

.footer-custom {
    background-color: var(--bg-secondary);
    color: var(--text-primary);
    border-top: 1px solid var(--border-color);
    box-shadow: 0 -4px 15px var(--shadow-color);
    transition: var(--theme-transition);
}

.footer-heading {
    color: var(--text-primary);
    border-bottom: 1px solid var(--border-color);
}

.footer-links a {
    color: var(--text-primary);
}

.footer-links a:hover {
    color: var(--primary-color);
}

.footer-social-icon {
    background-color: var(--bg-tertiary);
    color: var(--text-primary);
    border: 1px solid var(--border-color);
}

.footer-social-icon:hover {
    background-color: var(--primary-color);
    color: white !important;
}

/* Ícone de tema */
.theme-toggle-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background-color: transparent;
    border: none;
    cursor: pointer;
    color: var(--text-primary);
    border-radius: 50%;
    margin-right: 10px;
    transition: all 0.3s ease;
}

.theme-toggle-btn:hover {
    background-color: rgba(var(--primary-color-rgb), var(--hover-opacity));
    transform: rotate(30deg);
}

.theme-toggle-btn:focus {
    outline: none;
    box-shadow: 0 0 0 0.25rem var(--primary-shadow);
}

/* Adicionar animação suave para a transição entre temas */
.theme-transition * {
    transition: var(--theme-transition);
}

/* Garantir que os textos nos alertas tenham bom contraste */
.alert {
    color: var(--text-primary);
}

[data-theme="light"] .alert-primary {
    color: #0a3984;
    background-color: #e8f0ff;
}

[data-theme="light"] .alert-success {
    color: #0a573c;
    background-color: #e4f7ee;
}

[data-theme="light"] .alert-danger {
    color: #8e2727;
    background-color: #f7e8e8;
}

/* Melhorar o contraste das áreas de foco */
:focus {
    outline-color: var(--primary-color);
    outline-width: 2px; /* Menos agressivo visualmente */
    outline-offset: 2px;
}

/* Melhorar a visibilidade de elementos com foco */
.btn:focus, 
.form-control:focus,
.tab-button:focus,
.help-icon:focus {
    box-shadow: 0 0 0 2px var(--primary-shadow);
}

/* Correções específicas para o tema claro */
[data-theme="light"] body.text-light {
    color: var(--text-primary) !important;
}

[data-theme="light"] .card .card-body {
    color: var(--text-primary) !important;
}

[data-theme="light"] .results p,
[data-theme="light"] .educational-content p,
[data-theme="light"] .comparison-table td,
[data-theme="light"] .form-group .instruction,
[data-theme="light"] .concept-explanation p,
[data-theme="light"] .concept-explanation li {
    color: var(--text-primary) !important;
}

[data-theme="light"] .card-body p,
[data-theme="light"] .card-body span:not(.alert *) {
    color: var(--text-primary) !important;
}

/* Garantir que texto seja sempre legível */
[data-theme="light"] .text-light {
    color: var(--text-primary) !important;
}

/* Sobreescrever classes do Bootstrap */
[data-theme="light"] .bg-dark {
    background-color: var(--bg-secondary) !important;
}

[data-theme="light"] .bg-dark.text-light {
    color: var(--text-primary) !important;
}

/* Garantir que os cabeçalhos de tabela mantenham texto branco */
[data-theme="light"] .comparison-table th {
    color: white !important;
}

/* Corrigir problema de texto branco em fundo claro na página inicial */
[data-theme="light"] .hero-section h1,
[data-theme="light"] .hero-section p,
[data-theme="light"] .section-title,
[data-theme="light"] .feature-item h3,
[data-theme="light"] .feature-item p,
[data-theme="light"] h1, 
[data-theme="light"] h2, 
[data-theme="light"] h3, 
[data-theme="light"] h4,
[data-theme="light"] h5,
[data-theme="light"] p,
[data-theme="light"] .lead,
[data-theme="light"] .display-4,
[data-theme="light"] .cta-section h2,
[data-theme="light"] .cta-section p {
    color: var(--text-primary) !important;
}

/* Corrigir texto no rodapé */
[data-theme="light"] .footer-custom,
[data-theme="light"] .footer-custom a,
[data-theme="light"] .footer-custom p,
[data-theme="light"] .footer-custom h5,
[data-theme="light"] .footer-custom li,
[data-theme="light"] .footer-social-icon,
[data-theme="light"] .copyright {
    color: var(--text-primary) !important;
}

/* Corrigir cores de ícones no tema claro */
[data-theme="light"] .theme-toggle-btn i.fa-moon {
    color: var(--primary-color) !important;
}

[data-theme="light"] .theme-toggle-btn i.fa-sun {
    color: #E49B0F !important; /* Amarelo mais suave para o sol */
}

/* Garantir que o ícone de tema seja sempre visível */
.theme-toggle-btn i {
    font-size: 1.2rem;
}

/* Design ergonômico adicional para o tema claro */
[data-theme="light"] .container {
    box-shadow: 0 3px 8px var(--shadow-color);
    border: 1px solid var(--border-color);
}

[data-theme="light"] input, 
[data-theme="light"] select, 
[data-theme="light"] .form-control {
    border-color: var(--border-color);
    background-color: var(--bg-input);
}

/* Adicionar efeito de profundidade suave para interfaces não-planas */
[data-theme="light"] .card,
[data-theme="light"] .educational-tips,
[data-theme="light"] .results,
[data-theme="light"] .tab-content {
    box-shadow: 0 1px 3px var(--shadow-color);
}

/* Reduzir a intensidade das sombras */
[data-theme="light"] .btn:hover {
    box-shadow: 0 2px 5px var(--shadow-color);
}

/* Bordas mais suaves */
[data-theme="light"] .navbar-custom {
    border-bottom: 1px solid var(--border-color);
}

/* Ajustes finos para contrastes menos agressivos */
[data-theme="light"] .icon-primary {
    color: var(--primary-color);
    opacity: 0.9; /* Sutilmente mais suave */
}

/* Adicionar textura sutil para quebrar a monotonia de cores planas */
[data-theme="light"] body {
    background-image: linear-gradient(to bottom, var(--bg-primary), var(--bg-primary));
    background-attachment: fixed;
}

/* Aumentar espaçamento para melhor respiração visual */
[data-theme="light"] .container {
    padding: 25px;
}

/* Arredondamento de bordas para elementos de formulário */
[data-theme="light"] input,
[data-theme="light"] select,
[data-theme="light"] textarea,
[data-theme="light"] .form-control {
    border-radius: 6px;
}

/* Botões menos saturados */
[data-theme="light"] .btn-primary {
    background-color: var(--primary-color);
    border-color: var(--primary-color);
}
